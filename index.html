<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>若冰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="冰冻三尺，非一日之寒">
<meta property="og:type" content="website">
<meta property="og:title" content="若冰">
<meta property="og:url" content="http://denghui.me/index.html">
<meta property="og:site_name" content="若冰">
<meta property="og:description" content="冰冻三尺，非一日之寒">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="若冰">
<meta name="twitter:description" content="冰冻三尺，非一日之寒">
  
    <link rel="alternate" href="/atom.xml" title="若冰" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">若冰</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Not only Android developer</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://denghui.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-这些日子的一些思考" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/04/这些日子的一些思考/" class="article-date">
  <time datetime="2016-03-04T03:55:52.000Z" itemprop="datePublished">2016-03-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/04/这些日子的一些思考/">2015的总结，2016的展望</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>其实2015对我来说是艰辛和值得记住的一年，最重要的是定下职业方向，以及找到合适的工作。觉得有必要写下这一年的体会。</p>
<h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><h4 id="总结篇"><a href="#总结篇" class="headerlink" title="总结篇"></a>总结篇</h4><h4 id="1-关于年初找实习"><a href="#1-关于年初找实习" class="headerlink" title="1. 关于年初找实习"></a>1. 关于年初找实习</h4><p>在年初开学后，就听说一些大神，各种找实习，内推等。自己却什么都没准备好，不过已经决定做Android开发了。但那时内心是不在意的，总觉得能进入大公司（升职加薪，迎接美好的未来…），至少平时也学了不少东西。年少总是轻狂，吹起来什么都懂（不装B的程序员不是好的程序员=.=）。后来发现完全不是自己所想，实际上竞争力是非常大，对于非985，211高校的学生来说（这里不鄙视任何学校，但要承认名校优秀的人确实多）。当然，3，4月知名企业的实习招聘，一个都没上。这时内心是苦恼的，但是我明白，如果不找到个互联网公司实习工作，意味着会和别人差距越来越大。于是在拉勾网和实习僧上网投简历，想在南方工作，所以只投递了广州和深圳的公司，然而岗位又十分有限，在5，6月里，简历通过的只有几个吧，投了近20个公司。其中，有1家需要去广州面试（没去），然后就是深圳市随手科技有限公司，沟通面试（通过QQ或电话）几轮，终于在6月底拿到实习offer。找实习这段时间，真是累坏小爷了，基本晚上都睡不好，忐忑。终究没白忙。于7月15日入职实习至今。10月底评审完，签了三方协议。公司氛围nice，福利ok。感觉自己运气还不错。</p>
<h4 id="2-初入职场体验"><a href="#2-初入职场体验" class="headerlink" title="2. 初入职场体验"></a>2. 初入职场体验</h4><p>总的来说，导师很不错，用心在指导，同事也是耐心回答问题。每天9点之前到，晚上8点之前就下班了。公司不提倡加班。周末是很悠闲的，一般我会在公司呆一天，还有一天在深圳随便逛逛。我不太赞同拼到天昏地暗，我看来，生活就是生活，工作就是工作，学习＝工作＋生活。工作中，有效沟通还不够，任务能如期完成，压力肯定是有的。在2016.1.9，我结束了实习工作，回到学校。收获还是很大的，了解开发上线项目流程，互联网公司的管理运作，编写代码更加规范。</p>
<h4 id="3-年前的一次旅行"><a href="#3-年前的一次旅行" class="headerlink" title="3. 年前的一次旅行"></a>3. 年前的一次旅行</h4><p>可以说是任性的，1.10号和同学在回湘潭的火车上，临时决定去东北玩一阵子，并买了车票，1.14考完试就去，长沙到长春，28个小时。体验了滑雪，看了哈尔滨冰雪大世界，俄罗斯美女表演。之后去北京呆了2天，冷的不行，风太大，没敢出去逛。1.24回到家。</p>
<h3 id="展望编"><a href="#展望编" class="headerlink" title="展望编"></a>展望编</h3><p>2016年主要提升技术水平，提高熟练度，整理Android所有知识点，基础知识（数据库，操作系统，数据结构与算法，Java并发编程）的学习巩固。</p>
<h4 id="1-搭建独立博客，坚持写博客"><a href="#1-搭建独立博客，坚持写博客" class="headerlink" title="1. 搭建独立博客，坚持写博客"></a>1. 搭建独立博客，坚持写博客</h4><p>目前已采用 hexo框架 ＋ github Page 搭建完成，域名为 denghui.me ，争取半个月一篇</p>
<h4 id="2-独立设计并开发一个上线应用"><a href="#2-独立设计并开发一个上线应用" class="headerlink" title="2. 独立设计并开发一个上线应用"></a>2. 独立设计并开发一个上线应用</h4><p>目前想法 ：MyPlan － 系统工具 </p>
<h4 id="3-入手单反，懂点摄影知识"><a href="#3-入手单反，懂点摄影知识" class="headerlink" title="3. 入手单反，懂点摄影知识"></a>3. 入手单反，懂点摄影知识</h4><p>记录生活，体验生活</p>
<h4 id="4-英语口语的学习"><a href="#4-英语口语的学习" class="headerlink" title="4. 英语口语的学习"></a>4. 英语口语的学习</h4><p>总有预感以后要用到，能进行简单的对话，流利的自我介绍</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://denghui.me/2016/03/04/这些日子的一些思考/" data-id="cild9i4w70007k5x5nss4ak5t" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/品悟/">品悟</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-e4-bb-8ezero-e5-ad-a6-e4-b9-a0string-e6-ba-90-e7-a0-81" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/08/27/e4-bb-8ezero-e5-ad-a6-e4-b9-a0string-e6-ba-90-e7-a0-81/" class="article-date">
  <time datetime="2015-08-27T11:11:07.000Z" itemprop="datePublished">2015-08-27</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Java/">Java</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/27/e4-bb-8ezero-e5-ad-a6-e4-b9-a0string-e6-ba-90-e7-a0-81/">从Zero学习String源码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="源码版本：JDK-1-7-0-55"><a href="#源码版本：JDK-1-7-0-55" class="headerlink" title="源码版本：JDK_1.7.0_55"></a>源码版本：JDK_1.7.0_55</h2><h2 id="String的常用方法"><a href="#String的常用方法" class="headerlink" title="String的常用方法"></a>String的常用方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line">public final class String  //注意final</span><br><span class="line">    implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence &#123;</span><br><span class="line">    </span><br><span class="line">    //保证只能初始化一次，用字符数组来存</span><br><span class="line">    private final char value[];</span><br><span class="line">    </span><br><span class="line">    // 存储hashCode，默认为0</span><br><span class="line">    private int hash; </span><br><span class="line">    </span><br><span class="line">    //判断是否相等</span><br><span class="line">    public boolean equals(Object anObject) &#123;</span><br><span class="line">        if (this == anObject) &#123;  //同一对象</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        if (anObject instanceof String) &#123; //若同为String类型</span><br><span class="line">            String anotherString = (String) anObject;</span><br><span class="line">            int n = value.length;  //本字符串长度</span><br><span class="line">            if (n == anotherString.value.length) &#123; //长度相同，比较每个字符（ASCII码）是否相同</span><br><span class="line">                char v1[] = value;</span><br><span class="line">                char v2[] = anotherString.value;</span><br><span class="line">                int i = 0;</span><br><span class="line">                while (n-- != 0) &#123;</span><br><span class="line">                    if (v1[i] != v2[i])</span><br><span class="line">                            return false;</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                return true;  //相等返回</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //比较String的大小，返回的是 &quot;str1 - str2&quot;</span><br><span class="line">    public int compareTo(String anotherString) &#123;</span><br><span class="line">        int len1 = value.length;</span><br><span class="line">        int len2 = anotherString.value.length;</span><br><span class="line">        int lim = Math.min(len1, len2);  //得到小的长度（可以比较的最大长度）</span><br><span class="line">        char v1[] = value;</span><br><span class="line">        char v2[] = anotherString.value;</span><br><span class="line"></span><br><span class="line">        int k = 0;  </span><br><span class="line">        while (k &lt; lim) &#123;  //从0比较到lim-1</span><br><span class="line">            char c1 = v1[k];</span><br><span class="line">            char c2 = v2[k];</span><br><span class="line">            if (c1 != c2) &#123;</span><br><span class="line">                return c1 - c2; //不相等返回</span><br><span class="line">            &#125;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        return len1 - len2;  //若v[lim-1]以前都相等,则判断长度，长的值大</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //获得hashCode，赋值给hash</span><br><span class="line">    public int hashCode() &#123;</span><br><span class="line">        int h = hash;</span><br><span class="line">        if (h == 0 &amp;&amp; value.length &gt; 0) &#123; </span><br><span class="line">        //若之前没有计算过hashCode，且存在String，则生成一个hashCode</span><br><span class="line">            char val[] = value;</span><br><span class="line">            for (int i = 0; i &lt; value.length; i++) &#123;</span><br><span class="line">                h = 31 * h + val[i];  //计算方法，为了唯一性.</span><br><span class="line">            &#125;</span><br><span class="line">            hash = h;</span><br><span class="line">        &#125;</span><br><span class="line">        return h;</span><br><span class="line">    &#125;</span><br><span class="line">    /*看了下&quot;zero&quot;生成hashCode过程：</span><br><span class="line">        0:122</span><br><span class="line">        1:3883</span><br><span class="line">        2:120487</span><br><span class="line">        3:3735208</span><br><span class="line">        hashCode:3735208</span><br><span class="line">    */</span><br><span class="line">    </span><br><span class="line">    //得到某一字符</span><br><span class="line">    public char charAt(int index) &#123;</span><br><span class="line">        if ((index &lt; 0) || (index &gt;= value.length)) &#123; //是否越界</span><br><span class="line">            throw new StringIndexOutOfBoundsException(index);</span><br><span class="line">        &#125;</span><br><span class="line">        return value[index]; //直接下标返回</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //替换方法</span><br><span class="line">    public String replace(char oldChar, char newChar) &#123;</span><br><span class="line">        if (oldChar != newChar) &#123;</span><br><span class="line">            int len = value.length;</span><br><span class="line">            int i = -1;</span><br><span class="line">            char[] val = value; /* avoid getfield opcode */</span><br><span class="line">            while (++i &lt; len) &#123;</span><br><span class="line">                if (val[i] == oldChar) &#123; //遍历判断第一个oldChar的位置</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if (i &lt; len) &#123; //存在oldChar</span><br><span class="line">                char buf[] = new char[len]; //重新生成等长字符数组</span><br><span class="line">                for (int j = 0; j &lt; i; j++) &#123;</span><br><span class="line">                    buf[j] = val[j];  //0至i-1的值保持不变</span><br><span class="line">                &#125;</span><br><span class="line">                while (i &lt; len) &#123;</span><br><span class="line">                    char c = val[i];</span><br><span class="line">                    buf[i] = (c == oldChar) ? newChar : c; </span><br><span class="line">                    //找到存在oldChar位置的地方，在新字符数组处赋值为newChar；</span><br><span class="line">                    i++;</span><br><span class="line">                &#125;</span><br><span class="line">                return new String(buf, true);  //实际上是重新生成了一个String</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    //去掉两端的空格</span><br><span class="line">    public String trim() &#123;</span><br><span class="line">        int len = value.length;</span><br><span class="line">        int st = 0;</span><br><span class="line">        char[] val = value;    /* avoid getfield opcode */</span><br><span class="line"></span><br><span class="line">        while ((st &lt; len) &amp;&amp; (val[st] &lt;= &apos; &apos;)) &#123;  //从前往后判断</span><br><span class="line">            st++;</span><br><span class="line">        &#125;</span><br><span class="line">        while ((st &lt; len) &amp;&amp; (val[len - 1] &lt;= &apos; &apos;)) &#123; //后往前</span><br><span class="line">            len--;</span><br><span class="line">        &#125;</span><br><span class="line">        return ((st &gt; 0) || (len &lt; value.length)) ? substring(st, len) : this;</span><br><span class="line">        </span><br><span class="line">        //substring(st, len),里面是用了Arrays里面的copyOfRange方法</span><br><span class="line">        /*</span><br><span class="line">        public static char[] copyOfRange(char[] original, int from, int to) &#123;</span><br><span class="line">            int newLength = to - from;</span><br><span class="line">            if (newLength &lt; 0)</span><br><span class="line">                throw new IllegalArgumentException(from + &quot; &gt; &quot; + to);</span><br><span class="line">            char[] copy = new char[newLength];</span><br><span class="line">            //native方法   </span><br><span class="line">            System.arraycopy(original, from, copy, 0,  </span><br><span class="line">                             Math.min(original.length - from, newLength));</span><br><span class="line">            return copy;</span><br><span class="line">        &#125;</span><br><span class="line">        */</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public native String intern();</span><br><span class="line">     ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://denghui.me/2015/08/27/e4-bb-8ezero-e5-ad-a6-e4-b9-a0string-e6-ba-90-e7-a0-81/" data-id="cild9i4vv0002k5x5gvz8bk8o" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-e5-8f-8d-e6-80-9d-e4-b8-80-e4-b8-8b" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/04/15/e5-8f-8d-e6-80-9d-e4-b8-80-e4-b8-8b/" class="article-date">
  <time datetime="2015-04-15T02:05:47.000Z" itemprop="datePublished">2015-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/15/e5-8f-8d-e6-80-9d-e4-b8-80-e4-b8-8b/">接下来的路</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>看了代码家的经历之后（国内android开发大牛），结合自身。发现自己一直没有达到过废寝忘食的境界。我一直很想在大学留下点什么，来丰富我最后的大学时光。感觉真正意义从心里喜欢上技术（android方向），是在大二暑假。现在已经大三末了…很是惭愧。但也很庆幸能够在毕业之前找到自己喜欢的东西，专心学习自己喜欢的技术。虽然大一大二参加了做了许多学生工作，班级团支书，组织部部长，社团副社长，开会讨论一大推。现在想想一切都是浮云。也许有人会认为在今后的沟通能力，管理能力有帮助。但是真的值得吗？即便我没有参加，就不能很好的沟通吗？（只要不是性格的问题）感觉和同学都一样。正真需要学习的是尊敬，礼仪，气质的提高。当然我也不后悔，大学中我始终认为，大学生应该学习的是人文素养，为人处事，之后才是技能。这才符合一个高级人才的标准。自己今后要走的路还很长，至少目前决定我愿意为科学献身。学习一些能够推动人类科技发展、跨时代的技术。希望自己30年后看到这篇，能会意一笑。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://denghui.me/2015/04/15/e5-8f-8d-e6-80-9d-e4-b8-80-e4-b8-8b/" data-id="cild9i4vn0000k5x52wr127lz" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/品悟/">品悟</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-e7-9b-ae-e5-89-8d-e8-bd-ac-e6-88-98csdn" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/03/28/e7-9b-ae-e5-89-8d-e8-bd-ac-e6-88-98csdn/" class="article-date">
  <time datetime="2015-03-28T03:35:30.000Z" itemprop="datePublished">2015-03-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/03/28/e7-9b-ae-e5-89-8d-e8-bd-ac-e6-88-98csdn/">CSDN上的链接</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.csdn.net/u012951554" target="_blank" rel="external">http://blog.csdn.net/u012951554</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://denghui.me/2015/03/28/e7-9b-ae-e5-89-8d-e8-bd-ac-e6-88-98csdn/" data-id="cild9i4w30006k5x5yr5pw9mz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-13" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/11/13/" class="article-date">
  <time datetime="2015-01-11T10:26:39.000Z" itemprop="datePublished">2015-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/大数据/">大数据</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/11/13/">Ubuntu14.04下搭建Hadoop2.4.0 集群</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Ubuntu14-04下搭建Hadoop2-4-0-集群"><a href="#Ubuntu14-04下搭建Hadoop2-4-0-集群" class="headerlink" title="Ubuntu14.04下搭建Hadoop2.4.0 集群"></a><a href="http://www.cnblogs.com/kinglau/p/3794433.html" target="_blank" rel="external">Ubuntu14.04下搭建Hadoop2.4.0 </a>集群</h2><p>参考BLOG ： <a href="http://www.cnblogs.com/kinglau/p/3794433.html" target="_blank" rel="external">http://www.cnblogs.com/kinglau/p/3794433.html</a>；</p>
<p><a href="http://www.cnblogs.com/tec-vegetables/p/3778358.html" target="_blank" rel="external">http://www.cnblogs.com/tec-vegetables/p/3778358.html</a>；</p>
<p><a href="http://blog.csdn.net/laoyi_grace/article/details/6254743" target="_blank" rel="external">http://blog.csdn.net/laoyi_grace/article/details/6254743</a>;</p>
<p>作者：邓慧</p>
<h3 id="1-安装Java环境（需要在每台机器上装）"><a href="#1-安装Java环境（需要在每台机器上装）" class="headerlink" title="1.安装Java环境（需要在每台机器上装）"></a>1.安装Java环境（需要在每台机器上装）</h3><p>输入：sudo apt-get install openjdk-7-jdk</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>查看安装结果，输入命令：java -version，结果如下表示安装成功。</p>
<p>&nbsp;</p>
<h3 id="2-修改namenode（master）和子节点（slave）机器名："><a href="#2-修改namenode（master）和子节点（slave）机器名：" class="headerlink" title="2. 修改namenode（master）和子节点（slave）机器名："></a>2. 修改namenode（master）和子节点（slave）机器名：</h3><p>输入sudo vi /etc/hostname</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>修改后需<strong><em>重启</em></strong>才生效：<strong>sudo reboot</strong></p>
<hr>
<h3 id="3-修改namenode（master）节点映射ip"><a href="#3-修改namenode（master）节点映射ip" class="headerlink" title="3.修改namenode（master）节点映射ip"></a>3.修改namenode（master）节点映射ip</h3><p><strong>sudo vi /etc/hosts    </strong>#添加slave和master的机器名及其对应ip</p>
<p>&nbsp;</p>
<p><strong>PS</strong>：master、slave分别是namenode和datanode机器名，即hostname的名字</p>
<p>&nbsp;</p>
<h3 id="4-在Ubuntu下创建hadoop组和hadoop用户，为master和slave分别创建hadoop用户及用户组，并赋予sudo权限"><a href="#4-在Ubuntu下创建hadoop组和hadoop用户，为master和slave分别创建hadoop用户及用户组，并赋予sudo权限" class="headerlink" title="4.在Ubuntu下创建hadoop组和hadoop用户，为master和slave分别创建hadoop用户及用户组，并赋予sudo权限"></a>4.在Ubuntu下创建hadoop组和hadoop用户，为master和slave分别创建hadoop用户及用户组，并赋予sudo权限</h3><p>增加hadoop用户组，同时在该组里增加hadoop用户，后续在涉及到hadoop操作时，我们使用该用户。</p>
<h4 id="4-1、创建hadoop用户组"><a href="#4-1、创建hadoop用户组" class="headerlink" title="4.1、创建hadoop用户组"></a>4.1、创建hadoop用户组</h4><p>&nbsp;</p>
<p>回车后会提示输入新的UNIX密码，这是新建用户hadoop的密码，输入回车即可。如果不输入密码，回车后会重新提示输入密码，即密码不能为空。</p>
<p>最后确认信息是否正确，如果没问题，输入 Y，回车即可。（如下图）</p>
<h4 id="4-2、创建hadoop用户"><a href="#4-2、创建hadoop用户" class="headerlink" title="4.2、创建hadoop用户"></a>4.2、创建hadoop用户</h4><p>输入： sudo adduser -ingroup hadoop hadoop</p>
<p>&nbsp;</p>
<h4 id="4-3、为hadoop用户添加权限"><a href="#4-3、为hadoop用户添加权限" class="headerlink" title="4.3、为hadoop用户添加权限"></a>4.3、为hadoop用户添加权限</h4><p>输入： sudo vi /etc/sudoers</p>
<p>添加hadoop  ALL=(ALL:ALL) ALL</p>
<p>&nbsp;</p>
<p><strong>PS**</strong>：<strong>该操作需要在所有</strong>master<strong>和</strong>slave**主机上进行，这里可能需要强制保存，</p>
<p>‘：wq！’命令。</p>
<h4 id="4-4、用新增加的hadoop用户登录Ubuntu系统"><a href="#4-4、用新增加的hadoop用户登录Ubuntu系统" class="headerlink" title="4.4、用新增加的hadoop用户登录Ubuntu系统"></a>4.4、用新增加的hadoop用户登录Ubuntu系统</h4><h3 id="5、安装ssh，建立ssh无密码登陆环境（每台机器运行）"><a href="#5、安装ssh，建立ssh无密码登陆环境（每台机器运行）" class="headerlink" title="5、安装ssh，建立ssh无密码登陆环境（每台机器运行）"></a>5、安装ssh，建立ssh无密码登陆环境（每台机器运行）</h3><h4 id="5-1安装ssh"><a href="#5-1安装ssh" class="headerlink" title="5.1安装ssh"></a>5.1安装ssh</h4><p>输入：sudo apt-get install openssh-server</p>
<h4 id="5-2安装完成后，启动服务"><a href="#5-2安装完成后，启动服务" class="headerlink" title="5.2安装完成后，启动服务"></a>5.2安装完成后，启动服务</h4><p>输入：sudo /etc/init.d/ssh start</p>
<p>&nbsp;</p>
<p>查看服务是否正确启动：ps -e | grep ssh</p>
<p>&nbsp;</p>
<h4 id="5-3建立ssh无密码登陆"><a href="#5-3建立ssh无密码登陆" class="headerlink" title="5.3建立ssh无密码登陆"></a>5.3建立ssh无密码登陆</h4><p>5.3.1      <a href="mailto:hadoop02@ubuntuserver2:/root$" target="_blank" rel="external">hadoop@master:~$</a> ssh-keygen -t rsa  命令，出现一下结果，我一直按Enter，按到最后，</p>
<p>&nbsp;</p>
<p>5.3.2      <a href="mailto:hadoop02@ubuntuserver2:/root$" target="_blank" rel="external">hadoop@master:~$</a> cat .ssh/id_rsa.pub &gt;&gt; .ssh/authorized_keys<br>注意：cat 与.ssh之间有空格，id_rsa.pub与&gt;&gt;之间有空格</p>
<p>5.3.3      <a href="mailto:hadoop02@ubuntuserver2:~$" target="_blank" rel="external">hadoop@maste:~$</a> cd .ssh</p>
<p>&nbsp;</p>
<p>5.3.4      <a href="mailto:hadoop02@ubuntuserver2:~$" target="_blank" rel="external">hadoop@ master:~$</a> ls -a</p>
<p>authorized_keys  id_rsa  id_rsa.pub</p>
<p>&nbsp;</p>
<p>5.3.5      <a href="mailto:hadoop02@ubuntuserver2:~/.ssh$" target="_blank" rel="external">hadoop@ master:~/.ssh$</a> ssh localhost  进行检测，是否无密码登录<br>5.3.6      把hadoop中的id_rsa.pub拷贝到slave中</p>
<p><a href="mailto:hadoop@%20master:~/.ssh$" target="_blank" rel="external">hadoop@ master:~/.ssh$</a> scp id_rsa.pub hadoop@192.168.1.135:/home/hadoop<br>注意：<a href="mailto:hadoop@192.168.1.135" target="_blank" rel="external">hadoop@192.168.1.135</a>在ubuntu操作系统中最好这样写，否则就会出现错误。这可能跟其他的linux操作系统不同，hadoop是你的登录名，192.168.1.135是IP地址。这样就可以传递成功！也可以用hostname来替代IP。</p>
<p>5.3.7      <a href="mailto:hadoop01@hadoop-master:~$" target="_blank" rel="external">hadoop@slave:~$</a> cat id_rsa.pub &gt;&gt; .ssh/authorized_keys</p>
<p>注意这个要在/hadoop目录中，完成这部之后， master访问slave就不需要密码访问了。</p>
<p>（如果还是不行，输入ssh-add）</p>
<p>5.3.8      测试一下：在master中，ssh <a href="mailto:hadoop@192.168.1.135" target="_blank" rel="external">hadoop@192.168.1.135</a>  测试一下是否直接可以控制slave了！</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3 id="6-安装hadoop2-4-0"><a href="#6-安装hadoop2-4-0" class="headerlink" title="6.安装hadoop2.4.0"></a>6.安装hadoop2.4.0</h3><h4 id="6-1、官网下载http-mirror-bit-edu-cn-apache-hadoop-common"><a href="#6-1、官网下载http-mirror-bit-edu-cn-apache-hadoop-common" class="headerlink" title="6.1、官网下载http://mirror.bit.edu.cn/apache/hadoop/common/"></a>6.1、官网下载<a href="http://mirror.bit.edu.cn/apache/hadoop/common/" target="_blank" rel="external">http://mirror.bit.edu.cn/apache/hadoop/common/</a></h4><h4 id="6-2、安装"><a href="#6-2、安装" class="headerlink" title="6.2、安装"></a>6.2、安装</h4><p>解压</p>
<p>sudo tar xzf hadoop-2.4.0.tar.gz</p>
<p>假如我们要把hadoop安装到/usr/local下</p>
<p>拷贝到/usr/local/下，文件夹为hadoop</p>
<p>sudo mv hadoop-2.4.0 /usr/local/hadoop</p>
<p>&nbsp;</p>
<p>赋予用户对该文件夹的读写权限</p>
<p>sudo chmod 777 /usr/local/hadoop</p>
<p><strong>6.3**</strong>、配置**  </p>
<pre><code>1）配置~/.bashrc
</code></pre><p>配置该文件前需要知道Java的安装路径，用来设置JAVA_HOME环境变量，可以使用下面命令行查看安装路径</p>
<pre><code>update-alternatives - -config java

执行结果如下：
</code></pre><p>完整的路径为</p>
<pre><code>/usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java

我们只取前面的部分 /usr/lib/jvm/java-7-openjdk-amd64

配置.bashrc文件

sudo gedit ~/.bashrc

该命令会打开该文件的编辑窗口，在文件末尾追加下面内容，然后保存，关闭编辑窗口。
</code></pre><p>#HADOOP VARIABLES START</p>
<p>export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64</p>
<p>export HADOOP_INSTALL=/usr/local/hadoop</p>
<p>export PATH=$PATH:$HADOOP_INSTALL/bin</p>
<p>export PATH=$PATH:$HADOOP_INSTALL/sbin</p>
<p>export HADOOP_MAPRED_HOME=$HADOOP_INSTALL</p>
<p>export HADOOP_COMMON_HOME=$HADOOP_INSTALL</p>
<p>export HADOOP_HDFS_HOME=$HADOOP_INSTALL</p>
<p>export YARN_HOME=$HADOOP_INSTALL</p>
<p>export HADOOP_COMMON_LIB_NATIVE_DIR=$HADOOP_INSTALL/lib/native</p>
<p>export HADOOP_OPTS=”-Djava.library.path=$HADOOP_INSTALL/lib”</p>
<p>#HADOOP VARIABLES END</p>
<p>最终结果如下图：</p>
<p>执行下面命，使添加的环境变量生效：</p>
<pre><code>source ~/.bashrc
</code></pre><p>2）编辑/usr/local/hadoop/etc/hadoop/hadoop-env.sh</p>
<pre><code>执行下面命令，打开该文件的编辑窗口

sudo gedit /usr/local/hadoop/etc/hadoop/hadoop-env.sh
</code></pre><p>找到JAVA_HOME变量，修改此变量如下</p>
<pre><code>export JAVA_HOME=/usr/lib/jvm/java-7-openjdk-amd64

修改后的hadoop-env.sh文件如下所示：
</code></pre><h4 id="6-3-1-配置etc-hadoop-core-site-xml文件"><a href="#6-3-1-配置etc-hadoop-core-site-xml文件" class="headerlink" title="6.3.1 配置etc/hadoop/core-site.xml文件"></a>6.3.1 配置etc/hadoop/core-site.xml文件</h4><p><strong>sudo vi /usr/local/hadoop/etc/hadoop/core-site.xml</strong></p>
<p>在<strong><em>&lt;configuration&gt;&lt;/configuration&gt;</em></strong>中间添加如下内容：</p>
<p><strong>PS</strong>：<strong>master</strong>为namenode主机名，即<strong>/etc/hosts</strong>文件里的名字</p>
<h4 id="6-3-2-配置etc-hadoop-mapred-site-xml文件，若路径下没有此文件，则将mapred-site-xml-template重命名"><a href="#6-3-2-配置etc-hadoop-mapred-site-xml文件，若路径下没有此文件，则将mapred-site-xml-template重命名" class="headerlink" title="6.3.2 配置etc/hadoop/mapred-site.xml文件，若路径下没有此文件，则将mapred-site.xml.template重命名"></a>6.3.2 配置etc/hadoop/mapred-site.xml文件，若路径下没有此文件，则将mapred-site.xml.template重命名</h4><p><strong>sudo vi /usr/local/hadoop/etc/hadoop/mapred-site.xml</strong></p>
<p>在<strong><em>&lt;configuration&gt;&lt;/configuration&gt;</em></strong>中间添加如下内容：</p>
<p><strong>PS</strong>：<strong>master</strong>为namenode主机名，即<strong>/etc/hosts</strong>文件里的名字</p>
<h4 id="6-3-3-配置hdfs-site-xml文件，若路径下没有此文件，则将hdfs-site-xml-template重命名"><a href="#6-3-3-配置hdfs-site-xml文件，若路径下没有此文件，则将hdfs-site-xml-template重命名" class="headerlink" title="6.3.3 配置hdfs-site.xml文件，若路径下没有此文件，则将hdfs-site.xml.template重命名"></a>6.3.3 配置hdfs-site.xml文件，若路径下没有此文件，则将hdfs-site.xml.template重命名</h4><p><strong>sudo vi hdfs-site.xml</strong></p>
<p>在<strong><em>&lt;configuration&gt;&lt;/configuration&gt;</em></strong>中间添加如下内容：</p>
<p><strong>PS**</strong>：<strong>若有多个</strong>slave<strong>节点，则将</strong>&lt;value&gt;**间的内容可改为：</p>
<ul>
<li>&lt;value&gt;/usr/local/hadoop/datalog1,/usr/local/hadoop/datalog2,…&lt;/value&gt;</li>
<li>&lt;value&gt;/usr/local/hadoop/data1,/usr/local/hadoop/data2,…&lt;/value&gt;</li>
<li>&lt;value&gt;1&lt;/value&gt;中间的数字表示slave节点数</li>
</ul>
<h4 id="6-3-4-向slaves文件中添加slave主机名，一行一个"><a href="#6-3-4-向slaves文件中添加slave主机名，一行一个" class="headerlink" title="6.3.4 向slaves文件中添加slave主机名，一行一个"></a>6.3.4 向slaves文件中添加slave主机名，一行一个</h4><h3 id="6-4-向slave节点分发配置文件"><a href="#6-4-向slave节点分发配置文件" class="headerlink" title="6.4 向slave节点分发配置文件"></a>6.4 向slave节点分发配置文件</h3><p>将配置文件发送到<strong>所有**</strong>slave<strong>子节点上，先将文件复制到子节点</strong>/home/hadoop/<strong>下面（子节点也用hadoop用户登录：</strong>su hadoop**）</p>
<p><strong>sudo scp /etc/hosts hadoop@slave1:/home/hadoop</strong></p>
<p><strong>scp -r /usr/local/hadoop hadoop@slave1:/home/hadoop</strong></p>
<p><strong>PS</strong>：<strong>slave1</strong>为<strong>slave</strong>子节点名，若有多个slave节点，应全部分发</p>
<p>在datanode机器上（<strong>slave</strong>节点）将文件移动到与master相同的路径下</p>
<p><strong>sudo mv /home/hadoop/hosts   /etc/hosts**</strong> ** (在子节点上执行)</p>
<p><strong>sudo mv /home/hadoop/Hadoop   /usr/local/</strong>  (在子节点上执行)</p>
<p><strong>PS</strong>：若提示mv文件夹，则加上<strong>-r </strong>参数</p>
<p>加入所属用户：<strong> sudo chown -R hadoop:hadoop hadoop  **</strong>  (<strong><strong>在子节点上执行</strong></strong>)**</p>
<p><strong>PS**</strong>：**子节点datanode机器要把复制过来的hadoop里面的data1,data2和logs删除掉!</p>
<p><strong><em>配置完成</em></strong></p>
<p><strong>PS**</strong>：<strong>可以将hadoop命令路径写入</strong>/etc/profile**文件，这样我们就可以自如使用hadoop、hdfs命令了，否则在使用命令时都要加入/bin/hadoop这样的路径：</p>
<p><strong>sudo vi /etc/profile</strong></p>
<p>输入：<strong>source /etc/profile</strong></p>
<h3 id="6-5-运行wordcount示例"><a href="#6-5-运行wordcount示例" class="headerlink" title="6.5. 运行wordcount示例"></a>6.5. 运行wordcount示例</h3><p><strong>首先进入**</strong>/usr/local/hadoop/<strong><strong>目录，重启</strong></strong>hadoop**</p>
<p><strong>cd /usr/local/hadoop/sbin</strong></p>
<p><strong>./stop-all.sh</strong></p>
<p><strong>cd /usr/local/hadoop/bin</strong></p>
<p><strong>./hdfs namenode -format</strong>    # 格式化集群</p>
<p><strong>cd /usr/local/hadoop/sbin</strong></p>
<p><strong>./start-all.sh </strong></p>
<p><strong>可以在**</strong>namenode<strong>**上查看连接情况</strong></p>
<p><strong>hdfs dfsadmin -report      </strong>#下面是我的机器的结果</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://denghui.me/2015/01/11/13/" data-id="cild9i4w10004k5x5v4fdcj97" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/品悟/">品悟</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/品悟/" style="font-size: 10px;">品悟</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/03/04/这些日子的一些思考/">2015的总结，2016的展望</a>
          </li>
        
          <li>
            <a href="/2015/08/27/e4-bb-8ezero-e5-ad-a6-e4-b9-a0string-e6-ba-90-e7-a0-81/">从Zero学习String源码</a>
          </li>
        
          <li>
            <a href="/2015/04/15/e5-8f-8d-e6-80-9d-e4-b8-80-e4-b8-8b/">接下来的路</a>
          </li>
        
          <li>
            <a href="/2015/03/28/e7-9b-ae-e5-89-8d-e8-bd-ac-e6-88-98csdn/">CSDN上的链接</a>
          </li>
        
          <li>
            <a href="/2015/01/11/13/">Ubuntu14.04下搭建Hadoop2.4.0 集群</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 ZeroGeek<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>